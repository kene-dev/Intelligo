import React, { useState } from "react";
import logo from "../assets/logo.svg";
import bell from "../assets/notifiy.svg";
import SearchBar from "./SearchBar";
import drop from "../assets/drop.svg";
import { useDispatch, useSelector } from "react-redux";
import { logoutUser } from "../Redux/features/AuthSlice";

const Navbar = () => {
  const { userDetails, userDeetsSuccess, userDeetsError, authMessage } =
    useSelector((state) => state.auth);
  const [menu, setMenu] = useState(false);
  const dispatch = useDispatch();
  return (
    <div className="w-full h-[100px] p-3 flex items-center justify-between bg-white px-12">
      <img src={logo} className="bg-contain  w-[120px]" />
      <SearchBar placeholder={"Search Courses, teachers..."} width={"500px"} />

      <div className="flex items-center gap-10">
        <div className="w-max px-6 py-3 text-sm bg-primary cursor-pointer text-white rounded-md">
          Online Degrees
        </div>

        <div className=" w-[40px] h-[40px] flex items-center justify-center rounded-full bg-[#f5f5f5] ">
          <img src={bell} className="w-[20px] h-[20px]" />
        </div>

        <div
          onClick={() => setMenu(!menu)}
          className="w-max flex items-center relative gap-4 text-sm px-5 py-3 bg-[#f5f5f5] cursor-pointer text-black rounded-md"
        >
          <p>
            {userDetails?.userData?.data?.firstName +
              " " +
              userDetails?.userData?.data?.lastName}
          </p>
          <img src={drop} className="w-[13px] h-[13px]" />

          {menu && (
            <ul className="absolute top-[50px] flex flex-col gap-4 items-start justify-start right-0 h-max py-4 px-4 w-max bg-[#F5F5F5] z-30 rounded-md text-black/70 font-pt">
              <li className="text-sm p-2 hover:bg-secondary w-full px-2 flex items-center justify-start gap-3">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                >
                  <path
                    d="M8.69099 12.7158L8.68671 12.7058C8.60047 12.6855 8.51473 12.6631 8.42956 12.6387L8.42314 12.6366C7.6082 12.4027 6.85566 11.99 6.22028 11.4287C5.52127 10.8121 4.98372 10.0338 4.6545 9.16175C4.32528 8.28971 4.21438 7.35037 4.33148 6.42563C4.44857 5.5009 4.79011 4.61884 5.3263 3.85639C5.8625 3.09393 6.57707 2.47421 7.40772 2.05128C8.23837 1.62834 9.15986 1.41503 10.0919 1.42993C11.0239 1.44483 11.9381 1.68751 12.7548 2.13679C13.5715 2.58607 14.2659 3.22831 14.7774 4.00753C15.2889 4.78674 15.6021 5.67926 15.6896 6.60727C15.7174 6.90227 15.4753 7.14298 15.1789 7.14298C14.8831 7.14298 14.6467 6.90227 14.6124 6.60798C14.518 5.79605 14.2109 5.02343 13.7221 4.36824C13.2334 3.71305 12.5803 3.1985 11.829 2.87661C11.0776 2.55473 10.2546 2.43691 9.44308 2.53507C8.63159 2.63324 7.86039 2.9439 7.20746 3.43566C6.55452 3.92742 6.04298 4.58285 5.72456 5.33568C5.40614 6.08852 5.29211 6.91208 5.39401 7.72311C5.49591 8.53414 5.81012 9.3039 6.30488 9.95456C6.79964 10.6052 7.45741 11.1137 8.21171 11.4287L8.24028 11.4408C8.38314 11.4994 8.53028 11.5508 8.68028 11.5958C8.80671 11.2903 9.03518 11.0382 9.32675 10.8823C9.61832 10.7264 9.95493 10.6765 10.2792 10.741C10.6034 10.8056 10.8953 10.9806 11.1049 11.2363C11.3146 11.4919 11.4291 11.8124 11.4289 12.143C11.4292 12.4713 11.3164 12.7897 11.1095 13.0446C10.9026 13.2995 10.6142 13.4754 10.2929 13.5427C9.9715 13.6099 9.63679 13.5644 9.34505 13.4138C9.0533 13.2632 8.82233 13.0167 8.69099 12.7158ZM7.98671 13.6244C6.71806 13.2292 5.5931 12.4708 4.75099 11.443C4.22936 11.5041 3.74833 11.7546 3.39925 12.147C3.05017 12.5394 2.85736 13.0464 2.85742 13.5716V14.0823C2.85742 16.738 5.86456 18.5716 10.0003 18.5716C14.136 18.5716 17.1431 16.6373 17.1431 14.0823V13.5716C17.1431 13.0032 16.9174 12.4582 16.5155 12.0563C16.1136 11.6545 15.5686 11.4287 15.0003 11.4287H12.3967C12.5652 11.993 12.5291 12.5987 12.2947 13.139C12.0603 13.6792 11.6427 14.1194 11.1155 14.3819C10.5883 14.6444 9.98534 14.7123 9.41295 14.5737C8.84056 14.4352 8.33546 14.099 7.98671 13.6244ZM13.5717 7.14298C13.5717 6.06298 13.0931 5.09513 12.3353 4.44013C11.955 4.1121 11.5099 3.86795 11.0289 3.72362C10.5479 3.5793 10.0418 3.53803 9.54381 3.60252C9.04578 3.66701 8.56695 3.83581 8.13857 4.09789C7.7102 4.35998 7.34191 4.70946 7.05775 5.12352C6.77359 5.53758 6.57995 6.00691 6.48947 6.50088C6.39898 6.99485 6.41369 7.50235 6.53263 7.99025C6.65157 8.47815 6.87207 8.93548 7.17973 9.33239C7.48739 9.7293 7.8753 10.0569 8.31814 10.2937C8.77783 9.8742 9.37795 9.64206 10.0003 9.64298C10.6228 9.64215 11.2231 9.87428 11.6831 10.2937C12.2538 9.98884 12.7309 9.53469 13.0636 8.97976C13.3962 8.42483 13.5718 7.78997 13.5717 7.14298Z"
                    fill="#111111"
                    fill-opacity="0.6"
                  />
                </svg>
                Feedback & Support
              </li>
              <li className="text-sm p-2 hover:bg-secondary w-full px-2 flex items-center justify-start gap-3">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                >
                  <path
                    d="M15.2502 8.99999C15.2502 8.80832 15.2419 8.62499 15.2252 8.43332L16.7752 7.25832C17.1085 7.00832 17.2002 6.54166 16.9919 6.17499L15.4335 3.48332C15.3336 3.30681 15.172 3.17344 14.9797 3.10884C14.7875 3.04424 14.5781 3.05296 14.3919 3.13332L12.6002 3.89166C12.2919 3.67499 11.9669 3.48332 11.6252 3.32499L11.3835 1.39999C11.3335 0.983323 10.9752 0.666656 10.5585 0.666656H7.45021C7.02521 0.666656 6.66688 0.983323 6.61688 1.39999L6.37521 3.32499C6.03354 3.48332 5.70854 3.67499 5.40021 3.89166L3.60854 3.13332C3.22521 2.96666 2.77521 3.11666 2.56688 3.48332L1.00854 6.18332C0.800209 6.54999 0.891876 7.00832 1.22521 7.26666L2.77521 8.44166C2.74066 8.81586 2.74066 9.19245 2.77521 9.56666L1.22521 10.7417C0.891876 10.9917 0.800209 11.4583 1.00854 11.825L2.56688 14.5167C2.77521 14.8833 3.22521 15.0333 3.60854 14.8667L5.40021 14.1083C5.70854 14.325 6.03354 14.5167 6.37521 14.675L6.61688 16.6C6.66688 17.0167 7.02521 17.3333 7.44188 17.3333H10.5502C10.9669 17.3333 11.3252 17.0167 11.3752 16.6L11.6169 14.675C11.9585 14.5167 12.2835 14.325 12.5919 14.1083L14.3835 14.8667C14.7669 15.0333 15.2169 14.8833 15.4252 14.5167L16.9835 11.825C17.1919 11.4583 17.1002 11 16.7669 10.7417L15.2169 9.56666C15.2419 9.37499 15.2502 9.19166 15.2502 8.99999ZM9.03354 11.9167C7.42521 11.9167 6.11688 10.6083 6.11688 8.99999C6.11688 7.39166 7.42521 6.08332 9.03354 6.08332C10.6419 6.08332 11.9502 7.39166 11.9502 8.99999C11.9502 10.6083 10.6419 11.9167 9.03354 11.9167Z"
                    fill="#111111"
                    fill-opacity="0.6"
                  />
                </svg>
                Settings
              </li>

              <li
                onClick={() => dispatch(logoutUser())}
                className="text-sm p-2 hover:bg-secondary w-full px-2 flex items-center justify-start gap-3"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M2.91699 7.97333V12.0267C2.91699 13.9383 2.91699 14.8933 3.51866 15.4875C4.06449 16.0267 4.91366 16.0758 6.51533 16.0808C6.43116 15.5183 6.41366 14.8475 6.40866 14.0575C6.40866 13.9771 6.42451 13.8975 6.4553 13.8232C6.48609 13.749 6.53122 13.6815 6.58811 13.6247C6.64499 13.5679 6.71252 13.5228 6.78683 13.4922C6.86114 13.4615 6.94076 13.4457 7.02116 13.4458C7.1016 13.4448 7.18144 13.4597 7.25613 13.4896C7.33082 13.5194 7.3989 13.5637 7.45647 13.6199C7.51405 13.6761 7.55999 13.7431 7.59168 13.817C7.62337 13.8909 7.64018 13.9704 7.64116 14.0508C7.64616 14.9375 7.66866 15.5658 7.75783 16.0425C7.84366 16.5025 7.98033 16.7675 8.18033 16.9658C8.40783 17.1908 8.72699 17.3367 9.33033 17.4158C9.95033 17.4992 10.772 17.5 11.9512 17.5H12.772C13.9512 17.5 14.7728 17.4983 15.3937 17.4167C15.9962 17.3367 16.3153 17.19 16.542 16.9658C16.7695 16.7408 16.9178 16.4258 16.9987 15.8308C17.082 15.2192 17.0837 14.4067 17.0837 13.2433V6.75667C17.0837 5.5925 17.082 4.78167 16.9987 4.16833C16.9178 3.57417 16.7695 3.25833 16.5428 3.035C16.3153 2.81 15.9962 2.66333 15.3928 2.58333C14.7728 2.50167 13.9512 2.5 12.772 2.5H11.9512C10.772 2.5 9.95033 2.50167 9.32949 2.58333C8.72699 2.66333 8.40783 2.81 8.18033 3.03417C7.98033 3.23167 7.84366 3.4975 7.75783 3.9575C7.66866 4.43417 7.64616 5.0625 7.64116 5.94917C7.64018 6.0296 7.62337 6.10906 7.59168 6.183C7.55999 6.25693 7.51405 6.32391 7.45647 6.38009C7.3989 6.43627 7.33082 6.48056 7.25613 6.51043C7.18144 6.54029 7.1016 6.55516 7.02116 6.55417C6.94076 6.55428 6.86114 6.53854 6.78683 6.50785C6.71252 6.47716 6.64499 6.43212 6.58811 6.37531C6.53122 6.3185 6.48609 6.25103 6.4553 6.17677C6.42451 6.1025 6.40866 6.0229 6.40866 5.9425C6.41366 5.1525 6.43116 4.48167 6.51533 3.91917C4.91366 3.92417 4.06533 3.97333 3.51866 4.5125C2.91699 5.10667 2.91699 6.0625 2.91699 7.97333ZM4.94533 10.43C4.88818 10.3739 4.84279 10.307 4.8118 10.2332C4.78081 10.1593 4.76485 10.0801 4.76485 10C4.76485 9.91993 4.78081 9.84066 4.8118 9.76683C4.84279 9.693 4.88818 9.62609 4.94533 9.57L6.58699 7.94833C6.70326 7.83403 6.85978 7.76997 7.02283 7.76997C7.18587 7.76997 7.34239 7.83403 7.45866 7.94833C7.5158 8.00442 7.5612 8.07133 7.59219 8.14516C7.62317 8.219 7.63913 8.29826 7.63913 8.37833C7.63913 8.4584 7.62317 8.53767 7.59219 8.6115C7.5612 8.68533 7.5158 8.75225 7.45866 8.80833L6.86699 9.39167H12.772C13.112 9.39167 13.3887 9.66417 13.3887 10C13.3887 10.3358 13.112 10.6083 12.772 10.6083H6.86699L7.45866 11.1917C7.5158 11.2478 7.5612 11.3147 7.59219 11.3885C7.62317 11.4623 7.63913 11.5416 7.63913 11.6217C7.63913 11.7017 7.62317 11.781 7.59219 11.8548C7.5612 11.9287 7.5158 11.9956 7.45866 12.0517C7.34239 12.166 7.18587 12.23 7.02283 12.23C6.85978 12.23 6.70326 12.166 6.58699 12.0517L4.94533 10.43Z"
                    fill="#111111"
                    fill-opacity="0.6"
                  />
                </svg>
                Log Out
              </li>
            </ul>
          )}
        </div>
      </div>
    </div>
  );
};

export default Navbar;
